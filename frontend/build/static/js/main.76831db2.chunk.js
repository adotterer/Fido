(this["webpackJsonpauthenticate-me"]=this["webpackJsonpauthenticate-me"]||[]).push([[0],{118:function(e,t){},119:function(e,t){},126:function(e,t){},128:function(e,t){},160:function(e,t,n){},161:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(2),s=n.n(c),a=(n(76),n(11)),i=n.n(a),u=n(6),o=n(9),j=n(4),l=(n(84),s.a.createContext());function d(e){var t=e.children,n=Object(c.useRef)(),s=Object(c.useState)(),a=Object(j.a)(s,2),i=a[0],u=a[1];return Object(c.useEffect)((function(){u(n.current)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l.Provider,{value:i,children:t}),Object(r.jsx)("div",{ref:n})]})}function b(e){var t=e.onClose,n=e.children,s=Object(c.useContext)(l);return s?i.a.createPortal(Object(r.jsxs)("div",{id:"modal",children:[Object(r.jsx)("div",{id:"modal-background",onClick:t}),Object(r.jsx)("div",{id:"modal-content",children:n})]}),s):null}var O=n(8),h=n(5),f=n.n(h),p=n(10),x=n(66),v=n.n(x);function m(e){return g.apply(this,arguments)}function g(){return(g=Object(p.a)(f.a.mark((function e(t){var n,r,c,s,a=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=a.length>1&&void 0!==a[1]?a[1]:{}).method=n.method||"GET",n.headers=n.headers||{},"GET"!==n.method.toUpperCase()&&(n.headers["Content-Type"]=n.headers["Content-Type"]||"application/json",n.headers["XSRF-Token"]=v.a.get("XSRF-TOKEN")),e.next=6,window.fetch(t,n);case 6:if(r=e.sent,!(c=r.headers.get("content-type"))||!c.includes("application/json")){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,r.data=s;case 13:if(!(r.status>=400)){e.next=15;break}throw r;case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _="session/setUser",w="session/removeUser",S=function(e){return{type:_,payload:e}},y=function(e){var t=e.credential,n=e.password;return function(){var e=Object(p.a)(f.a.mark((function e(r){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("/api/session",{method:"POST",body:JSON.stringify({credential:t,password:n}),headers:{"Content-Type":"application/json"}});case 2:return c=e.sent,r(S(c.data.user)),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C={user:null};var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object.assign({},e,{user:t.payload});case w:return Object.assign({},e,{user:null});default:return e}},U=n(67);n(48);var k=function(e){var t=e.user,n=Object(u.b)(),s=Object(c.useState)(!1),a=Object(j.a)(s,2),i=a[0],l=a[1];return Object(c.useEffect)((function(){if(i){var e=function(){l(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}}),[i]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(U.a,{onClick:function(){i||l(!0)}}),i&&Object(r.jsxs)("ul",{className:"profile-dropdown",children:[Object(r.jsx)("li",{children:Object(r.jsx)(o.b,{className:"link__hover",to:"/user/".concat(t.id),children:t.username})}),Object(r.jsx)("li",{children:t.email}),Object(r.jsx)("li",{children:Object(r.jsx)("button",{onClick:function(e){e.preventDefault(),n(function(){var e=Object(p.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("/api/session",{method:"DELETE"});case 2:return n=e.sent,t({type:w}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Log Out"})})]})]})};n(87);var N=function(){var e=Object(u.b)(),t=Object(c.useState)(""),n=Object(j.a)(t,2),s=n[0],a=n[1],i=Object(c.useRef)(null),o=Object(c.useRef)(null),l=Object(c.useState)(""),d=Object(j.a)(l,2),b=d[0],O=d[1],h=Object(c.useState)([]),f=Object(j.a)(h,2),p=f[0],x=f[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"Log In"}),Object(r.jsxs)("form",{onSubmit:function(t){return t.preventDefault(),x([]),e(y({credential:s,password:b})).catch((function(e){e.data&&e.data.errors&&x(e.data.errors)}))},children:[Object(r.jsx)("ul",{children:p.map((function(e,t){return Object(r.jsx)("li",{children:e},t)}))}),Object(r.jsxs)("label",{children:["Username or Email",Object(r.jsx)("input",{ref:i,type:"text",value:s,onChange:function(e){return a(e.target.value)},required:!0})]}),Object(r.jsxs)("label",{children:["Password",Object(r.jsx)("input",{ref:o,type:"password",value:b,onChange:function(e){return O(e.target.value)},required:!0})]}),Object(r.jsx)("button",{type:"submit",children:"Log In"}),Object(r.jsxs)("div",{className:"div__demoLogin",children:[Object(r.jsx)("button",{className:"button__demoLogin",onClick:function(t){t.preventDefault();var n="demo@user.io";n.split("").forEach((function(e,t){setTimeout((function(){return i.current.value+=e}),150*t),a(i.current.value)})),["p","a","s","s","w","o","r","d"].forEach((function(e,t){setTimeout((function(){return o.current.value+=e}),150*t)})),setTimeout((function(){e(y({credential:n,password:"password"})).catch((function(e){e.data&&e.data.errors&&x(e.data.errors)}))}),1800)},children:"Demo User 1"}),Object(r.jsx)("button",{className:"button__demoLogin",onClick:function(t){t.preventDefault();var n="Barbie";n.split("").forEach((function(e,t){setTimeout((function(){return i.current.value+=e}),150*t),a(i.current.value)})),["p","a","s","s","w","o","r","d"].forEach((function(e,t){setTimeout((function(){return o.current.value+=e}),150*t)})),setTimeout((function(){e(y({credential:n,password:"password"})).catch((function(e){e.data&&e.data.errors&&x(e.data.errors)}))}),1800)},children:"Demo User 2"})]})]})]})};var T=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{onClick:function(){return s(!0)},children:"Log In"}),n&&Object(r.jsx)(b,{onClose:function(){return s(!1)},children:Object(r.jsx)(N,{})})]})},L=n(68),I=n.p+"static/media/logo_3-black.a1fa15cc.png";var D=function(e){var t,n=e.isLoaded,c=Object(u.c)((function(e){return e.session.user}));return t=c?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("li",{class:"li__buttonIcons",children:Object(r.jsx)(k,{user:c})}),Object(r.jsx)(o.c,{exact:!0,to:"/users/all",children:Object(r.jsx)("li",{class:"li__buttonIcons",children:Object(r.jsx)(L.a,{})})})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("li",{children:Object(r.jsx)(T,{})}),Object(r.jsx)("li",{children:Object(r.jsx)(o.c,{to:"/signup",children:"Sign Up"})})]}),Object(r.jsxs)("div",{id:"div__nav-bar",children:[Object(r.jsx)(o.c,{exact:!0,to:"/",children:Object(r.jsxs)("div",{class:"div__logo",children:[Object(r.jsx)("img",{id:"img__logo",src:I}),"FidoFinder"]})}),Object(r.jsx)("div",{class:"div__navIcons",children:Object(r.jsx)("ul",{class:"ul__navIcons",children:n&&t})})]})};n(88);var R=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.session.user})),n=Object(c.useState)(""),s=Object(j.a)(n,2),a=s[0],i=s[1],o=Object(c.useState)(""),l=Object(j.a)(o,2),d=l[0],b=l[1],h=Object(c.useState)(""),x=Object(j.a)(h,2),v=x[0],g=x[1],_=Object(c.useState)(""),w=Object(j.a)(_,2),y=w[0],C=w[1],E=Object(c.useState)(""),U=Object(j.a)(E,2),k=U[0],N=U[1],T=Object(c.useState)(""),L=Object(j.a)(T,2),I=L[0],D=L[1],R=Object(c.useState)(""),P=Object(j.a)(R,2),F=P[0],q=P[1],M=Object(c.useState)(""),A=Object(j.a)(M,2),W=A[0],B=A[1],G=Object(c.useState)([]),J=Object(j.a)(G,2),K=J[0],H=J[1];return t?Object(r.jsx)(O.a,{to:"/"}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"Sign Up"}),Object(r.jsxs)("form",{onSubmit:function(t){return t.preventDefault(),v===y?(H([]),e((n={email:a,username:d,password:v,location:k,phoneNumber:I,firstName:F,lastName:W},function(){var e=Object(p.a)(f.a.mark((function e(t){var r,c,s,a,i,u,o,j;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.username,c=n.email,s=n.password,a=n.location,i=n.phoneNumber,u=n.firstName,o=n.lastName,e.next=3,m("/api/users",{method:"POST",body:JSON.stringify({username:r,email:c,password:s,location:a,phoneNumber:i,firstName:u,lastName:o})});case 3:return j=e.sent,t(S(j.data.user)),e.abrupt("return",j);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).catch((function(e){e.data&&e.data.errors&&H(e.data.errors)}))):H(["Confirm Password field must be the same as the Password field"]);var n},children:[Object(r.jsx)("ul",{children:K.map((function(e,t){return Object(r.jsx)("li",{children:e},t)}))}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("label",{children:["Email",Object(r.jsx)("input",{type:"text",value:a,onChange:function(e){return i(e.target.value)},placeholder:"required",required:!0})]}),Object(r.jsxs)("label",{children:["Username",Object(r.jsx)("input",{type:"text",value:d,onChange:function(e){return b(e.target.value)},placeholder:"required",required:!0})]}),Object(r.jsxs)("label",{children:["Password",Object(r.jsx)("input",{type:"password",value:v,onChange:function(e){return g(e.target.value)},placeholder:"required",required:!0})]}),Object(r.jsxs)("label",{children:["Confirm Password",Object(r.jsx)("input",{type:"password",value:y,onChange:function(e){return C(e.target.value)},placeholder:"required",required:!0})]})]}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("label",{children:["Location",Object(r.jsx)("input",{type:"text",value:k,onChange:function(e){return N(e.target.value)},placeholder:"your neighborhood",required:!0})]}),Object(r.jsxs)("label",{children:["First Name",Object(r.jsx)("input",{type:"text",value:F,onChange:function(e){return q(e.target.value)},placeholder:"required",required:!0})]}),Object(r.jsxs)("label",{children:["Last Name",Object(r.jsx)("input",{type:"text",value:W,onChange:function(e){return B(e.target.value)},placeholder:"optional"})]}),Object(r.jsxs)("label",{children:["Phone Number",Object(r.jsx)("input",{type:"tel",value:I,onChange:function(e){return D(e.target.value)},placeholder:"optional"})]}),Object(r.jsx)("button",{type:"submit",children:"Sign Up"})]})]})]})},P=function(e){var t=e.errors;return null===t||0===t.length?null:Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"Please correct the following errors:"}),Object(r.jsx)("ul",{children:t.map((function(e){return Object(r.jsx)("li",{children:e},e)}))})]})},F=function(e){var t=e.updatePersonName,n=Object(c.useState)(""),s=Object(j.a)(n,2),a=s[0],i=s[1],u=Object(c.useState)([]),o=Object(j.a)(u,2),l=o[0],d=o[1];return Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(r.jsx)("h2",{children:"Welcome!"}),Object(r.jsx)("p",{}),Object(r.jsx)(P,{errors:l}),Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=[];a||n.push("Please provide a name."),n.length>0?d(n):t(a)},children:[Object(r.jsx)("input",{type:"text",value:a,onChange:function(e){i(e.target.value)}}),Object(r.jsx)("button",{children:"Start MessageSession"})]})]})},q=n(73),M=n(69),A=n.n(M),W=(n(49),function(e){var t=e.username,n=e.authorizedUsers,s=e.messageSession,a=e.sendChat,i=Object(c.useState)(""),u=Object(j.a)(i,2),o=u[0],l=u[1];return Object(r.jsx)("div",{children:s?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"A conversation between: "}),Object(r.jsx)("ul",{children:n&&n.map((function(e){return Object(r.jsx)("li",{children:e.firstName})}))})]}),s.messages&&Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:s.messages.map((function(e){return Object(r.jsxs)("p",{children:[Object(r.jsxs)("span",{children:[e.username,": "]}),Object(r.jsx)("span",{children:e.msg})]},Object(q.a)())}))}),Object(r.jsx)("div",{className:"div__msgSend",children:Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(o,t),l("")},children:[Object(r.jsx)("input",{type:"text",value:o,onChange:function(e){return l(e.target.value)},placeholder:"Enter a message"}),Object(r.jsx)("button",{type:"submit",children:"Send"})]})})]})]}):Object(r.jsx)("h3",{className:A.a.announcement,children:"Waiting for another person to join the chat..."})})}),B=function(){var e=Object(O.h)().chatRoomId,t=Object(u.c)((function(e){return e.session.user})),n=Object(c.useState)(),s=Object(j.a)(n,2),a=s[0],i=s[1];a||fetch("/api/chatroom/".concat(e,"/auth")).then((function(e){return e.json()})).then((function(e){return i(e.authorizedUsers.map((function(e){return e.User})))}));var o=Object(c.useState)(t.username),l=Object(j.a)(o,2),d=l[0],b=l[1],h=Object(c.useState)(t.id),f=Object(j.a)(h,2),p=f[0],x=(f[1],Object(c.useState)(null)),v=Object(j.a)(x,2),m=v[0],g=v[1],_=Object(c.useRef)(null);Object(c.useEffect)((function(){if(d){var t=new WebSocket("ws://localhost:7070");t.onopen=function(){n("add-new-person",{userId:p,username:d,chatRoomId:e})},t.onmessage=function(e){console.log("Processing incoming message ".concat(e.data,"..."));var t=JSON.parse(e.data);switch(t.type){case"start-message-session":case"update-message-session":case"end-message-session":g(t.data);break;default:throw new Error("Unknown message type: ".concat(t.type))}},t.onerror=function(e){console.error(e)},t.onclose=function(e){console.log("Connection closed: ".concat(e)),_.current=null},window.onbeforeunload=function(n){_.current.sendMessage("delete-session",{chatRoomId:e}),t.onclose=function(e){_.current=null},g(null),t.close()};var n=function(e,n){var r=JSON.stringify({type:e,data:n});console.log("Sending message ".concat(r,"...")),t.send(r)};return _.current={ws:t,sendMessage:n},function(){null!==_.current&&_.current.ws.close()}}}),[d]);return t?Object(r.jsx)("div",{className:"div__chatSession",children:d?Object(r.jsx)(W,{username:d,authorizedUsers:a,messageSession:m,playAgain:function(e){g(null),_.current.sendMessage("add-new-person",{username:e})},quit:function(){b("")},sendChat:function(t,n){_.current.sendMessage("chat-message",{username:n,chatRoomId:e,msg:t})}}):Object(r.jsx)(F,{updatePersonName:function(e){b(e)}})}):Object(r.jsx)(O.a,{to:"/"})};n(89);function G(e,t){return J.apply(this,arguments)}function J(){return(J=Object(p.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("/api/chatroom/add?sessionUserId=".concat(t.id,"&&otherUserId=").concat(n.id,"&&sessionUsername=").concat(t.username,"&&otherUsername=").concat(n.username));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(e){var t=Object(c.useState)(e),n=Object(j.a)(t,2),s=n[0],a=n[1];Object(c.useEffect)((function(){e&&m("/api/users/all").then((function(e){return a(e.data)}))}),[]);var i=Object(O.g)(),l=Object(u.c)((function(e){return e.session.user})),d=function(){var e=Object(p.a)(f.a.mark((function e(t,n,r){var c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,G(n,r);case 4:return c=e.sent,e.next=7,c.data.chatRoomId;case 7:s=e.sent,i.push("/chatroom/".concat(s)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("FAILED TO GET CHAT ROOM NUMBER");case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(r.jsx)(r.Fragment,{children:s[0]&&l&&s.map((function(e){return Object(r.jsx)("div",{children:Object(r.jsx)(o.b,{onClick:function(){var t=Object(p.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(n,l,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:e.username},e.id)},e.id)}))})},H=(n(160),n(72)),z=n(44),X=function(){var e=Object(p.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/chatroom/add?sessionUserId=".concat(t.id,"&&otherUserId=").concat(n.id,"&&sessionUsername=").concat(t.username,"&&otherUsername=").concat(n.username));case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(p.a)(f.a.mark((function e(t,n,r){var c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X(n,r);case 3:return c=e.sent,s=c.chatRoomId,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0),console.error("FAILED TO GET CHAT ROOM NUMBER");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}();function Z(e){Object(O.g)();return Object(r.jsx)(o.b,{to:"/user/".concat(e.pinUser.id),children:Object(r.jsx)(z.a,{style:{color:"black",fontSize:"3em"}})},e.pinUser.id)}var Q=function(e){var t=e.center,n=e.nearbyUsers,c=(Object(O.g)(),Object(u.c)((function(e){return e.session.user}))),s=n.map((function(e){var t=e.UserDetail,n=t.liveLocationLat,r=t.liveLocationLng,c=e.username;return{id:e.id,username:c,lat:n,lng:r}}));return Object(r.jsx)("div",{style:{height:"80vh",width:"100%"},children:Object(r.jsx)(H.a,{bootstrapURLKeys:{key:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WS_URL:"ws://localhost:7070"}).GOOGLE_API_SECRET},center:t,defaultZoom:12,children:s.length>0&&s.map((function(e){return Object(r.jsx)(Z,{sessionUser:c,pinUser:e,lat:e.lat,lng:e.lng})}))})})};function Y(e){return $.apply(this,arguments)}function $(){return($=Object(p.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("/api/users/nearby?userId=".concat(t.id));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],s=t[1],a=Object(u.c)((function(e){return e.session.user})),i=Object(c.useState)(),o=Object(j.a)(i,2),l=(o[0],o[1]);return Object(c.useEffect)(Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,Y(a);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[a]),Object(c.useEffect)(Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(n.currentLocation);case 1:case"end":return e.stop()}}),e)}))),[n]),Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Users near you: "}),n.currentLocation?Object(r.jsx)(Q,{center:n.currentLocation,nearbyUsers:n.nearbyUsers}):"no center"]})};var te=function(){var e=Object(u.c)((function(e){return e.session.user}));function t(){return e?null:Object(r.jsxs)("div",{class:"div__LogInSignUpBlock",children:[Object(r.jsx)("div",{children:"Please log in or sign up to start chatting with dog owners near you."}),Object(r.jsx)("div",{children:Object(r.jsx)(T,{})}),Object(r.jsx)(o.b,{to:"/signup",children:Object(r.jsx)("div",{children:Object(r.jsx)("button",{children:"Sign up"})})})]})}return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{class:"div__greetingPage",children:Object(r.jsx)(t,{})}),e&&Object(r.jsx)(ee,{})]})};var ne=function(){Object(u.b)();var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(j.a)(a,2),o=i[0],l=i[1],d=Object(c.useState)([]),b=Object(j.a)(d,2),O=b[0];return b[1],Object(r.jsxs)("div",{style:{minWidth:"30rem"},children:[Object(r.jsx)("h1",{children:"Create a new dog profile"}),Object(r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("here is dogName and birthday",n,o)},children:[Object(r.jsx)("ul",{children:O.map((function(e,t){return Object(r.jsx)("li",{children:e},t)}))}),Object(r.jsxs)("label",{children:["Name",Object(r.jsx)("input",{type:"text",value:n,onChange:function(e){return s(e.target.value)},required:!0})]}),Object(r.jsxs)("label",{children:["Birthday",Object(r.jsx)("input",{type:"date",value:o,onChange:function(e){return l(e.target.value)},required:!0})]}),Object(r.jsx)("button",{type:"submit",children:"Submit"})]})]})};var re=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],s=t[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{onClick:function(){return s(!0)},children:"Add a new dog"}),n&&Object(r.jsx)(b,{onClose:function(){return s(!1)},children:Object(r.jsx)(ne,{})})]})};var ce=function(e){var t=e.userId,n=(e.dogs,Object(u.c)((function(e){return e.session.user})));return console.log(n.id,"sessionid",t),Number(n.id)!==Number(t)?null:Object(r.jsx)("div",{children:Object(r.jsx)(re,{})})};var se=function(){var e=Object(O.h)().userId,t=Object(c.useState)(),n=Object(j.a)(t,2),s=n[0],a=n[1],i=Object(O.g)(),o=Object(u.c)((function(e){return e.session.user}));return s||fetch("/api/user/".concat(e)).then((function(e){return e.json()})).then((function(e){return a(e)})),Object(c.useEffect)((function(){console.log(s)}),[s]),s?Object(r.jsxs)("div",{children:[Object(r.jsxs)("h1",{children:[s.firstName,"'s Profile"]}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:["username: ",s.username]}),Object(r.jsxs)("div",{children:["status: ",s.UserDetail.status]}),Object(r.jsx)("div",{children:s.Dogs.length>0?"this user has ".concat(s.Dogs.length," dogs"):"this user has no dogs"}),Object(r.jsxs)("div",{children:[Object(r.jsx)(ce,{userId:e,dogs:s.Dogs}),o.id!==s.id&&Object(r.jsx)("button",{onClick:function(){var e=Object(p.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,V(t,o,s);case 3:return n=e.sent,e.abrupt("return",i.push("/chatroom/".concat(n)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Chat With This Owner"})]})]})]}):Object(r.jsx)("div",{children:"loading....."})};var ae,ie=function(){var e=Object(u.b)(),t=Object(c.useState)(!1),n=Object(j.a)(t,2),s=n[0],a=n[1];return Object(c.useEffect)((function(){e(function(){var e=Object(p.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("/api/session");case 2:return n=e.sent,t(S(n.data.user)),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){return a(!0)}))}),[e]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(D,{isLoaded:s}),s&&Object(r.jsx)("div",{id:"div__bodyContent",children:Object(r.jsx)("div",{id:"div__innerContent",children:Object(r.jsxs)(O.d,{children:[Object(r.jsx)(O.b,{exact:!0,path:"/",children:Object(r.jsx)(te,{})}),Object(r.jsx)(O.b,{path:"/signup",children:Object(r.jsx)(R,{})}),Object(r.jsx)(O.b,{exact:!0,path:"/chat",children:Object(r.jsx)(B,{})}),Object(r.jsx)(O.b,{path:"/users/all",children:Object(r.jsx)(K,{})}),Object(r.jsx)(O.b,{exact:!0,path:"/chatroom/:chatRoomId",children:Object(r.jsx)(B,{})}),Object(r.jsx)(O.b,{exact:!0,path:"/user/:userId",children:Object(r.jsx)(se,{})})]})})})]})},ue=n(23),oe=n(71),je=Object(ue.c)({session:E});ae=Object(ue.a)(oe.a);var le=function(e){return Object(ue.d)(je,e,ae)}();function de(){return Object(r.jsx)(d,{children:Object(r.jsx)(u.a,{store:le,children:Object(r.jsx)(o.a,{children:Object(r.jsx)(ie,{})})})})}i.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(de,{})}),document.getElementById("root"))},48:function(e,t,n){},49:function(e,t,n){},69:function(e,t,n){e.exports={messageSession:"MessageCore_messageSession__r2Pwt",persons:"MessageCore_persons__3GRcJ",actions:"MessageCore_actions__LBLdD",announcement:"MessageCore_announcement__wGc2e",individual_message_right:"MessageCore_individual_message_right__1TX3q",individual_message_left:"MessageCore_individual_message_left__1UAWb",person_name:"MessageCore_person_name__3qwNK"}},76:function(e,t,n){},84:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){}},[[161,1,2]]]);
//# sourceMappingURL=main.76831db2.chunk.js.map